**redis性能为什么高?**

- 纯内存操作

- 采用非阻塞IO
- 多路复用





**单线程的redis如何利用多核cpu机器**

redis通过运行多个实例（组成集群）来充分发挥多核cpu的能力





**redis的缓存淘汰策略？**

- 拒绝为（新的）写请求服务，但是可以执行DEL删除请求（默认）
- 在过期key集合中，使用LRU算法 删除最近最少使用的key
- 在过期key集合中，删除剩余寿命最短的key
- 在过期key集合中，随机删除key
- 在所有key集合中，使用LRU算法 删除最近最少使用的key
- 在所有key集合中，随机删除key

Redis使用的缓存淘汰算法是：为每个key增加一个字段，用于记录最近访问该key的时间。然后随机选择5个key，删除最早访问的key。如果内存还是超过最大内存，则继续删除。





**redis如何持久化数据？**

快照、AOF





**redis有哪几种数据结构？**

5种。 string、list、hash、set、zset





**redis集群有哪几种形式？**

sentinel、Codis、Redis Cluster





**有海量key和value都比较小的数据，在redis中如何存储才更省内存？**





**如何保证redis和DB中的数据一致性？**

先介绍不一致的原因，然后使用DTS检测主从同步完成，然后删除缓存，达到最终一致性。





**如何解决缓存穿透和缓存雪崩？**





**Redis单线程的好处？**

1. 设计数据结构的时候，不用考虑并发的问题，因此可以设计得相对简单。
2. 避免多线程消耗内存，上下文切换消耗CPU资源。





**为什么有了AOF还需要有快照？**

理论上只用AOF是可以的，因为如果宕机了，可以通过AOF来进行重放恢复数据。

但是仅用AOF来进行重放会很慢，我们公司采用的是混合持久化，即同时使用快照和AOF，AOF记录的是快照开始到快照结束期间的增量日志。

于是重发的时候，先加载RDB的文件，再重放增量的AOF日志，重放效率大大提高。

