# 红包系统性能测试报告



## 环境描述

### 客户端

    8核CPU，内存16G 1台

### 服务端

    8核CPU，内存16G 1台





## 性能报告

    8核CPU，内存16G 1台

#### 塞钱进红包

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 72217      | 0      | 96% 4.0%   | 263% 11% | 1384 |
| 100000   | 200    | 71749      | 0      | 90% 4.0%   | 282% 11% | 1393 |
| 100000   | 200    | 72699      | 0      | 98% 4.0%   | 249% 11% | 1375 |


#### 抢红包

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 29185      | 0      | 236% 4.1%  | 98% 12%  | 3426 |
| 100000   | 200    | 27435      | 0      | 240% 4.1%  | 90% 12%  | 3644 |
| 100000   | 200    | 28946      | 0      | 241% 4.1%  | 107% 15% | 3454 |


#### 拆红包

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 28810      | 0      | 241% 4.1%  | 109% 12% | 3471 |
| 100000   | 200    | 28946      | 0      | 238% 4.1%  | 97%  15% | 3454 |
| 100000   | 200    | 29305      | 0      | 245% 4.1%  | 146% 16% | 3412 |

#### 查询红包详情

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 31680      | 0      | 296% 4.1%  | 104% 12% | 3156 |
| 100000   | 200    | 31452      | 0      | 280% 4.1%  | 99% 12%  | 3179 |
| 100000   | 200    | 31298      | 0      | 281% 4.3%  | 97% 12%  | 3195 |

#### 留言

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 43291      | 0      | 256% 4.1%  | 112% 12% | 2309 |
| 100000   | 200    | 42045      | 0      | 192% 4.1%  | 127% 13% | 2378 |
| 100000   | 200    | 41191      | 0      | 193% 4.1%  | 119% 13% | 2427 |

#### 查询我收到的红包

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 72900      | 0      | 87% 4.1%   | 284% 12% | 1371 |
| 100000   | 200    | 72844      | 0      | 94% 4.1%   | 294% 12% | 1372 |
| 100000   | 200    | 72115      | 0      | 90% 4.1%   | 283% 12% | 1386 |

##### 查询我发出的红包

| 调用次数 | 并发数 | 总时间(ms) | 失败数 | broker负载 | biz 负载 | TPS  |
| -------- | ------ | ---------- | ------ | ---------- | -------- | ---- |
| 100000   | 200    | 159223     | 0      | 48% 4.1%   | 285% 16% | 668  |
| 100000   | 200    | 155727     | 0      | 43% 4.1%   | 279% 16% | 642  |
| 100000   | 200    | 159578     | 0      | 45% 4.3%   | 229% 12% | 626  |